/*
  编辑器修复样式 - 这些样式将覆盖所有其他样式，确保编辑器正常工作
  使用 !important 确保这些样式不会被其他样式覆盖
*/

/* 全局样式覆盖 */
textarea {
  color: initial !important;
}

/* 特别针对编辑器的全局覆盖 */
.markdown-editor-container * {
  color: inherit;
}

/* 编辑器容器 */
.w-md-editor {
  background-color: #ffffff !important;
  border: 1px solid #ddd !important;
}

/* 编辑区域 */
.w-md-editor-text {
  background-color: #ffffff !important;
}

/* 编辑器输入框 - 最关键的部分 */
.w-md-editor-text-input,
.w-md-editor-text textarea,
.w-md-editor textarea,
.editor-wrapper textarea,
.markdown-editor-container textarea {
  color: #333333 !important;
  caret-color: #333333 !important;
  -webkit-text-fill-color: #333333 !important;
  opacity: 1 !important;
}

/* 编辑器预览区域 */
.w-md-editor-preview {
  background-color: #ffffff !important;
  color: #333333 !important;
}

/* 编辑器工具栏 */
.w-md-editor-toolbar {
  background-color: #f6f8fa !important;
  border-bottom: 1px solid #ddd !important;
}

/* 编辑器工具栏按钮 */
.w-md-editor-toolbar li button {
  color: #333333 !important;
}

.w-md-editor-toolbar li button:hover {
  background-color: #e6e8ea !important;
}

.w-md-editor-toolbar li.active button {
  color: #0969da !important;
  background-color: #e6e8ea !important;
}

/* 暗色模式 */
.dark .w-md-editor {
  background-color: #1e1e1e !important;
  border-color: #333 !important;
}

.dark .w-md-editor-text {
  background-color: #1e1e1e !important;
}

.dark .w-md-editor-text-input,
.dark .w-md-editor-text textarea,
.dark .w-md-editor textarea,
.dark .editor-wrapper textarea,
.dark .markdown-editor-container textarea {
  color: #e0e0e0 !important;
  caret-color: #e0e0e0 !important;
  -webkit-text-fill-color: #e0e0e0 !important;
  opacity: 1 !important;
}

.dark .w-md-editor-preview {
  background-color: #1e1e1e !important;
  color: #e0e0e0 !important;
}

.dark .w-md-editor-toolbar {
  background-color: #252525 !important;
  border-bottom-color: #333 !important;
}

.dark .w-md-editor-toolbar li button {
  color: #e0e0e0 !important;
}

.dark .w-md-editor-toolbar li button:hover {
  background-color: #333 !important;
}

.dark .w-md-editor-toolbar li.active button {
  color: #58a6ff !important;
  background-color: #333 !important;
}

/* 确保代码区域的文本颜色正确 */
.w-md-editor-text-pre > code {
  color: transparent !important;
}

/* 修复编辑器高度问题 */
.w-md-editor-content {
  height: calc(100% - 40px) !important;
  min-height: 300px !important;
}
